---
title: "Go操作Mysql丢失时区信息"
date: 2019-08-21T10:54:04+08:00
draft: true
---



编码错乱和时区错乱简直是小白的两大杀手问题，无数小白在这两个问题上反复折腾不得要领。主要原因是这两件事有一个相同特征：不像某些被封装、分层所隐藏的细节，这两件事的身影存在于整个系统漫长链条的每一个环节，从数据库到后端到网络到前端，而任意一个环节出错都有可能影响到最终结果。

其实问题一点都不复杂。暂时忘记自己或前端或后端或DBA的具体角色定位，站在整个系统的角度一层层抽丝剥茧，很容易发现问题并解决。

现在我遇到了一个问题：在代码中使用`time.Now()`获取系统时间存入数据库，发现数据库里保存的时间不对，相差8小时。









> select curtime();   #或select now()也可以
> +-----------+
> | curtime() |
> +-----------+
> | 15:18:10  |
> +-----------+

> show variables like "%time_zone%";
> +------------------+--------+
> | Variable_name    | Value  |
> +------------------+--------+
> | system_time_zone | CST    |
> | time_zone        | SYSTEM |
> +------------------+--------+
> 2 rows in set (0.00 sec)
>  ———————————————— 
> 版权声明：本文为CSDN博主「薛瑄」的原创文章，遵循CC 4.0 by-sa版权协议，转载请附上原文出处链接及本声明。
> 原文链接：https://blog.csdn.net/xx326664162/article/details/81947548